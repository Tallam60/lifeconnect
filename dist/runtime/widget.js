System.register(["jimu-core","jimu-core/react"],(function(e,t){var o={},r={};return{setters:[function(e){o.DataSourceManager=e.DataSourceManager},function(e){r.default=e.default,r.useEffect=e.useEffect,r.useState=e.useState}],execute:function(){e((()=>{var e={244:e=>{"use strict";e.exports=o},972:e=>{"use strict";e.exports=r}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="";var a={};return n.p=window.jimuConfig.baseUrl,(()=>{"use strict";n.r(a),n.d(a,{__set_webpack_public_path__:()=>c,default:()=>r});var e=n(244),t=n(972),o=function(e,t,o,r){return new(o||(o=Promise))((function(n,a){function c(e){try{i(r.next(e))}catch(e){a(e)}}function u(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(c,u)}i((r=r.apply(e,t||[])).next())}))};function r(r){const[n,a]=(0,t.useState)(""),[c,u]=(0,t.useState)([]),i=e=>{u(e)};(0,t.useEffect)((()=>{var e,t,o;null===(o=null===(t=null===(e=r.widgetRuntimeStateProps)||void 0===e?void 0:e.useSelection)||void 0===t?void 0:t.useSelections)||void 0===o||o.call(t,[r.config.useSelectionId],i)}),[]);const l={backgroundColor:"#0074d9",color:"#fff",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",transition:"background-color 0.3s ease-out"},s="#fff",f="#0074d9";return t.default.createElement("div",{className:"widget-get-map-coordinates jimu-widget p-2"},t.default.createElement("div",null,t.default.createElement("button",{style:l,onClick:()=>o(this,void 0,void 0,(function*(){if(r.useDataSources.length>0){const t=e.DataSourceManager.getInstance(),o=r.useDataSources[0],a=t.getDataSource(o.dataSourceId),u={where:`${r.config.filterField} LIKE '%${n}%'`};if(c.length>0){const e=c.map((e=>e.attributes[o.objectIdField])),t=o.objectIdField;u.where+=` AND ${t} IN (${e.join(",")})`}const i=function(e){const t=new WeakSet;return function e(o){if("object"==typeof o&&null!==o){if(t.has(o))return"[Circular Reference]";if(t.add(o),Array.isArray(o))return o.map((t=>e(t)));{const t={};for(const r in o)o.hasOwnProperty(r)&&(t[r]=e(o[r]));return t}}return o}(e)}(yield a.query(u)),l=JSON.stringify(i);console.log(l);try{(yield fetch("https://lifehealth.life/api/bip-callback",{method:"POST",headers:{"Content-Type":"application/json"},body:l})).ok&&setTimeout((function(){window.open("https://lifehealth.life/meetings","_blank")}),5e3),console.log("Data sent to API successfully")}catch(e){console.error(e)}}})),onMouseEnter:e=>{e.target.style.backgroundColor=s,e.target.style.color=f},onMouseLeave:e=>{e.target.style.backgroundColor=l.backgroundColor,e.target.style.color=l.color},onMouseDown:e=>{e.target.style.backgroundColor=s,e.target.style.color=f},onMouseUp:e=>{e.target.style.backgroundColor=l.backgroundColor,e.target.style.color=l.color}},"Life Connect")))}function c(e){n.p=e}})(),a})())}}}));